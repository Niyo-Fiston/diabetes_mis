{% extends 'base.html' %}

<head>
  {% block title %}Patient List{% endblock %}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<div class="container">
{% block content %}
  <h2>Patient List</h2>

  <form method="get" class="mt-3">
    {{ search_form.search_query }}
    <button type="submit" class="btn btn-primary mt-3">Search</button>
  </form>

  <ul class="list-group mt-3">
    {% for patient in patients %}
      <li class="list-group-item">
        {{ patient.first_name }} {{ patient.last_name }} - {{ patient.age }} years old - {{ patient.address }} 
        - Glucose Level: {{ patient.glucose_level }} - Treatment Plan: {{ patient.treatment_plan }} 
        - Weight: {{ patient.weight }} - Height: {{ patient.height }}
        <a href="{% url 'delete_patient' patient.id %}" class="btn btn-danger btn-sm float-right ml-2">Delete</a>
        <a href="{% url 'update_patient' patient.id %}" class="btn btn-primary btn-sm float-right">Update</a>
      </li>
    {% endfor %}
  </ul>
  <a href="{% url 'add_patient' %}" class="btn btn-primary mt-3">Add Patient</a>
{% endblock %}
</div>